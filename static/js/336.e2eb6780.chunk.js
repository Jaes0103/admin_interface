"use strict";(self.webpackChunkadmin_interface=self.webpackChunkadmin_interface||[]).push([[336],{7256:(s,e,a)=>{a.d(e,{A:()=>t});a(2483);var l=a(6723);const t=s=>{let{isOpen:e,message:a,onConfirm:t,onCancel:n,title:i="Confirmation",confirmText:r="Yes",cancelText:d="No"}=s;return e?(0,l.jsx)("div",{className:"confirmation-modal",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h2",{children:i}),(0,l.jsx)("p",{children:a}),(0,l.jsxs)("div",{className:"modal-buttons",children:[(0,l.jsx)("button",{onClick:t,className:"confirm-button",children:r}),(0,l.jsx)("button",{onClick:n,className:"cancel-button",children:d})]})]})}):null}},2336:(s,e,a)=>{a.r(e),a.d(e,{default:()=>x});var l=a(2483),t=a(8826),n=a(2718),i=a(9200),r=a(7335),d=a(770),c=a(5888),o=a(9747),h=a(6723);r.t1.register(r.PP,r.kc,r.FN,r.No,r.Bs,r.hE,r.m_,r.s$,d.A);const x=()=>{const[s,e]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[d,x]=(0,l.useState)(null),[j,b]=(0,l.useState)(!0),[m,u]=(0,l.useState)(""),[p,N]=(0,l.useState)(0),[g,f]=(0,l.useState)(1),[A,k]=(0,l.useState)(1);(0,l.useEffect)((()=>{(async()=>{try{const s="https://bantayhayopdavao-7bbe97a0f615.herokuapp.com/api/admin/dashboard",a=await t.A.get(s);if(a.data&&a.data.reports&&a.data.adoptableAnimals){e(a.data.reports),r(a.data.adoptableAnimals);const s=v(a.data.reports,"created_at"),l=v(a.data.rescuedAnimals,"rescued_date");x(y(s,l)),N(a.data.reports.length)}else u("Invalid response structure")}catch(s){console.error("Fetch error:",s.response?s.response.data:s),u("Error fetching data")}finally{b(!1)}})()}),[]);const v=(s,e)=>{const a=new Array(12).fill(0);return s.forEach((s=>{const l=new Date(s[e]).getMonth();a[l]++})),a},y=(s,e)=>({labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Reports",data:s,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!0},{label:"Rescued Animals",data:e,borderColor:"rgba(138, 126, 190, 1)",backgroundColor:"rgba(138, 126, 190, 0.4)",fill:!0}]}),C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!0,color:"rgba(138, 126, 190, 1)",formatter:(s,e)=>0===e.dataIndex?`${p}`:"",font:{weight:"bold",size:"30",color:"rgba(138, 126, 190, 1)"},anchor:"center",align:"center"}},cutout:"75%",rotation:240,circumference:240},_=5*g,S=_-5,D=s.slice(S,_),R=Math.ceil(s.length/5),w=5*A,M=w-5,E=a.slice(M,w),T=Math.ceil(a.length/5);return j?(0,h.jsx)("p",{children:"Loading data..."}):m?(0,h.jsx)("p",{children:m}):(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsx)(n.A,{}),(0,h.jsxs)("div",{className:"main-content",children:[(0,h.jsx)("h1",{children:"Admin Dashboard"}),(0,h.jsxs)("section",{className:"dashboard-section",children:[(0,h.jsx)("h2",{children:"Reports"}),0===D.length?(0,h.jsx)("p",{children:"No reports available."}):(0,h.jsxs)("table",{className:"dashboard-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"ID"}),(0,h.jsx)("th",{children:"Animal Type"}),(0,h.jsx)("th",{children:"Details"}),(0,h.jsx)("th",{children:"Cruelty Details"}),(0,h.jsx)("th",{children:"Date Created"}),(0,h.jsx)("th",{children:"Status"})]})}),(0,h.jsx)("tbody",{children:D.map((s=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:s.id}),(0,h.jsx)("td",{children:s.animal_type}),(0,h.jsx)("td",{children:s.animal_details}),(0,h.jsx)("td",{children:s.cruelty_details}),(0,h.jsx)("td",{children:new Date(s.created_at).toLocaleDateString()}),(0,h.jsx)("td",{children:s.status})]},s.id)))})]}),(0,h.jsxs)("div",{className:"pagination",children:[(0,h.jsx)("button",{onClick:()=>{g>1&&f(g-1)},disabled:1===g,children:(0,h.jsx)(c.g,{icon:o.Wzs})}),(0,h.jsxs)("span",{children:[g," of ",R]}),(0,h.jsx)("button",{onClick:()=>{g<R&&f(g+1)},disabled:g===R,children:(0,h.jsx)(c.g,{icon:o.XkK})})]})]}),(0,h.jsxs)("section",{className:"dashboard-section",children:[(0,h.jsx)("h2",{children:"Adoptable Animals"}),0===E.length?(0,h.jsx)("p",{children:"No adoptable animals available."}):(0,h.jsxs)("table",{className:"dashboard-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"ID"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Type"}),(0,h.jsx)("th",{children:"Breed"}),(0,h.jsx)("th",{children:"Age"}),(0,h.jsx)("th",{children:"Personality"}),(0,h.jsx)("th",{children:"Health Status"})]})}),(0,h.jsx)("tbody",{children:E.map((s=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:s.id}),(0,h.jsx)("td",{children:s.name}),(0,h.jsx)("td",{children:s.type}),(0,h.jsx)("td",{children:s.breed}),(0,h.jsx)("td",{children:s.age}),(0,h.jsx)("td",{children:s.personality}),(0,h.jsx)("td",{children:s.health_status})]},s.id)))})]}),(0,h.jsxs)("div",{className:"pagination",children:[(0,h.jsx)("button",{onClick:()=>{A>1&&k(A-1)},disabled:1===A,children:(0,h.jsx)(c.g,{icon:o.Wzs})}),(0,h.jsxs)("span",{children:[A," of ",T]}),(0,h.jsx)("button",{onClick:()=>{A<T&&k(A+1)},disabled:A===T,children:(0,h.jsx)(c.g,{icon:o.XkK})})]})]})]}),(0,h.jsxs)("div",{className:"chart-position",children:[(0,h.jsxs)("section",{className:"chart-section",children:[(0,h.jsx)("h2",{children:"Reports vs Rescued Animals"}),d?(0,h.jsx)(i.N1,{data:d}):(0,h.jsx)("p",{children:"No data available for the chart."})]}),(0,h.jsxs)("section",{className:"doughnut-section",children:[(0,h.jsx)("h2",{children:"Total Reported Animals"}),(0,h.jsx)("div",{className:"doughnut-container",children:(0,h.jsx)(i.nu,{data:{labels:["Reported Animals","Remaining Capacity"],datasets:[{data:[p,1e3-p],backgroundColor:["rgba(138, 126, 190, 1)","rgba(200, 200, 200, 0.5)"],borderColor:["rgba(138, 126, 190, 1)","rgba(200, 200, 200, 0.5)"],borderWidth:1}]},options:C})})]})]})]})}},2718:(s,e,a)=>{a.d(e,{A:()=>o});var l=a(2483),t=a(3376),n=a(9891),i=a(8938),r=a(7256),d=a(7321),c=a(6723);const o=()=>{const{logout:s}=(0,d.A)(),[e,a]=(0,l.useState)(!1),o=(0,t.Zp)();return(0,c.jsxs)("div",{className:"sidebar",children:[(0,c.jsx)("div",{className:"sidebar-header",children:(0,c.jsx)("h2",{children:"Admin"})}),(0,c.jsxs)("ul",{className:"sidebar-list",children:[(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/dashboard",className:"sidebar-link",children:[(0,c.jsx)(i.$BV,{className:"sidebar-icon"})," Dashboard"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/reports",className:"sidebar-link",children:[(0,c.jsx)(i.t69,{className:"sidebar-icon"})," Reports"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/adopt-animal",className:"sidebar-link",children:[(0,c.jsx)(i.Mbv,{className:"sidebar-icon"})," Adoptions"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/animals",className:"sidebar-link",children:[(0,c.jsx)(i.O21,{className:"sidebar-icon"})," Animals"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/events",className:"sidebar-link",children:[(0,c.jsx)(i.bfZ,{className:"sidebar-icon"})," Events"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/rescuers",className:"sidebar-link",children:[(0,c.jsx)(i.YXz,{className:"sidebar-icon"})," Rescuers"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n.N_,{to:"/maps",className:"sidebar-link",children:[(0,c.jsx)(i.A4L,{className:"sidebar-icon"})," Map"]})})]}),(0,c.jsx)("div",{className:"sidebar-footer",children:(0,c.jsxs)("button",{onClick:()=>{a(!0)},className:"sidebar-link logout-button",children:[(0,c.jsx)(i.axc,{className:"sidebar-icon"})," Logout"]})}),(0,c.jsx)(r.A,{isOpen:e,message:"Are you sure you want to log out?",onConfirm:()=>{s(),o("/"),alert("Successfully logged out!")},onCancel:()=>{a(!1)}})]})}}}]);
//# sourceMappingURL=336.e2eb6780.chunk.js.map