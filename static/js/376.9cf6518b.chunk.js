"use strict";(self.webpackChunkadmin_interface=self.webpackChunkadmin_interface||[]).push([[376],{995:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var t=n(2483),s=n(3376),l=n(8826),i=n(5888),r=n(9747),o=n(2718),d=n(6723);const c=e=>{let{isOpen:a,onClose:n,onAddAnimal:s}=e;const[l,i]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[j,g]=(0,t.useState)(""),[b,v]=(0,t.useState)(""),[y,C]=(0,t.useState)(null),[N,f]=(0,t.useState)(""),[S,k]=(0,t.useState)("");return a?(0,d.jsxs)("div",{className:"modal-overlay",children:[" ",(0,d.jsxs)("div",{className:"modal-content",children:[" ",(0,d.jsx)("h2",{children:"Add New Animal"}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a={name:l,type:r,age:c,breed:p,location:m,personality:j,status:b,gender:N,background:S};y&&(a.imgFile=y),s(a),i(""),o(""),u(""),h(""),x(""),g(""),v(""),f(""),k(""),C(null)},children:[(0,d.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Name",required:!0}),(0,d.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Type",required:!0}),(0,d.jsx)("input",{type:"number",value:c,onChange:e=>u(e.target.value),placeholder:"Age",required:!0}),(0,d.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"Breed",required:!0}),(0,d.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Location",required:!0}),(0,d.jsx)("input",{type:"text",value:j,onChange:e=>g(e.target.value),placeholder:"Personality",required:!0}),(0,d.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Status",required:!0}),(0,d.jsx)("input",{type:"text",value:S,onChange:e=>k(e.target.value),placeholder:"Background",required:!0}),(0,d.jsx)("input",{type:"file",onChange:e=>{C(e.target.files[0])},accept:"image/*",required:!0}),(0,d.jsx)("input",{type:"text",value:N,onChange:e=>f(e.target.value),placeholder:"Gender",required:!0}),(0,d.jsx)("button",{type:"submit",children:"Add Animal"}),(0,d.jsx)("button",{type:"button",onClick:n,children:"Cancel"})]})]})]}):null},u=e=>{let{isOpen:a,onClose:n,onUpdateAnimal:s,animal:l}=e;const[i,r]=(0,t.useState)(""),[o,c]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[x,j]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[C,N]=(0,t.useState)(null),[f,S]=(0,t.useState)(""),[k,A]=(0,t.useState)("");(0,t.useEffect)((()=>{l&&(r(l.name),c(l.type),p(l.age),m(l.breed),j(l.location),b(l.personality),y(l.status),S(l.gender),A(l.background))}),[l]);return a?(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Update Animal"}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a={name:i,type:o,age:u,breed:h,location:x,personality:g,status:v,gender:f,background:k};C&&(a.imgFile=C),s(l.id,a),n()},children:[(0,d.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Name",required:!0}),(0,d.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Type",required:!0}),(0,d.jsx)("input",{type:"number",value:u,onChange:e=>p(e.target.value),placeholder:"Age",required:!0}),(0,d.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Breed",required:!0}),(0,d.jsx)("input",{type:"text",value:x,onChange:e=>j(e.target.value),placeholder:"Location",required:!0}),(0,d.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"Personality",required:!0}),(0,d.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Status",required:!0}),(0,d.jsx)("input",{type:"text",value:k,onChange:e=>A(e.target.value),placeholder:"Background",required:!0}),(0,d.jsx)("input",{type:"file",onChange:e=>{N(e.target.files[0])},accept:"image/*"}),(0,d.jsx)("input",{type:"text",value:f,onChange:e=>S(e.target.value),placeholder:"Gender",required:!0}),(0,d.jsx)("button",{type:"submit",children:"Update Animal"}),(0,d.jsx)("button",{type:"button",onClick:n,children:"Cancel"})]})]})}):null},p=e=>{let{isOpen:a,onClose:n,onDeleteConfirm:t}=e;return a?(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Confirm Deletion"}),(0,d.jsx)("p",{children:"Are you sure you want to delete this animal?"}),(0,d.jsxs)("div",{className:"modal-actions",children:[(0,d.jsx)("button",{className:"cancel-button",onClick:n,children:"Cancel"}),(0,d.jsx)("button",{className:"confirm-button",onClick:t,children:"Confirm"})]})]})}):null},h=()=>{const[e,a]=(0,t.useState)([]),[n,h]=(0,t.useState)(!0),[m,x]=(0,t.useState)(null),[j,g]=(0,t.useState)(""),[b,v]=(0,t.useState)(10),[y,C]=(0,t.useState)(1),[N,f]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[A,q]=(0,t.useState)(!1),[w,F]=(0,t.useState)(null),[L,E]=(0,t.useState)(null),[D,O]=(0,t.useState)("name"),_=(0,s.Zp)(),T=async()=>{try{const e=await l.A.get("https://bantayhayopdavao-7bbe97a0f615.herokuapp.com/api/admin/animals");a(e.data.animals)}catch(e){console.error("Error fetching animals:",e.response?e.response.data:e.message),x("Error fetching animals")}finally{h(!1)}};(0,t.useEffect)((()=>{T()}),[]);const B=e.filter((e=>e.name&&e.name.toLowerCase().includes(j)||e.type&&e.type.toLowerCase().includes(j)||e.breed&&e.breed.toLowerCase().includes(j))),G=[...B].sort(((e,a)=>"name"===D?e.name.localeCompare(a.name):"age"===D?e.age-a.age:0)),M=y*b,U=M-b,$=G.slice(U,M),P=Math.ceil(G.length/b);return n?(0,d.jsx)("div",{children:"Loading animals..."}):m?(0,d.jsx)("div",{children:m}):(0,d.jsxs)("div",{className:"table-container",children:[(0,d.jsx)("h1",{children:"Animals in the Shelter"}),(0,d.jsx)(o.A,{}),(0,d.jsxs)("button",{className:"add-animal-button",onClick:()=>f(!0),children:[(0,d.jsx)(i.g,{icon:r.QLR})," Add Animal"]}),(0,d.jsx)(c,{isOpen:N,onClose:()=>f(!1),onAddAnimal:async e=>{const a=new FormData;a.append("name",e.name),a.append("type",e.type),a.append("age",e.age),a.append("breed",e.breed),a.append("location",e.location),a.append("personality",e.personality),a.append("status",e.status),a.append("gender",e.gender),a.append("background",e.background),e.imgFile&&a.append("imgFile",e.imgFile);try{await l.A.post("https://bantayhayopdavao-7bbe97a0f615.herokuapp.com/api/admin/add-animal",a,{headers:{"Content-Type":"multipart/form-data"}}),T(),f(!1)}catch(n){x("Error adding animal"),console.error("Error adding animal:",n.response?n.response.data:n.message)}}}),(0,d.jsx)(u,{isOpen:S,onClose:()=>k(!1),onUpdateAnimal:async(e,a)=>{const n=new FormData;n.append("name",a.name),n.append("type",a.type),n.append("age",a.age),n.append("breed",a.breed),n.append("location",a.location),n.append("personality",a.personality),n.append("status",a.status),n.append("gender",a.gender),a.imgFile&&n.append("imgFile",a.imgFile);try{await l.A.put(`https://bantayhayopdavao-7bbe97a0f615.herokuapp.com/api/admin/animals/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});T(),k(!1)}catch(t){x("Error updating animal"),console.error("Error updating animal:",t.response?t.response.data:t.message)}},animal:w}),(0,d.jsx)(p,{isOpen:A,onClose:()=>q(!1),onDeleteConfirm:()=>(async e=>{try{await l.A.delete(`https://bantayhayopdavao-7bbe97a0f615.herokuapp.com/api/admin/animals/${e}`),T()}catch(a){x("Error deleting animal"),console.error("Error deleting animal:",a.response?a.response.data:a.message)}finally{q(!1)}})(null===L||void 0===L?void 0:L.id)}),(0,d.jsxs)("div",{className:"controls",children:[(0,d.jsx)("label",{htmlFor:"entries",children:"Show"}),(0,d.jsxs)("select",{id:"entries",value:b,onChange:e=>{v(parseInt(e.target.value)),C(1)},children:[(0,d.jsx)("option",{value:"5",children:"5"}),(0,d.jsx)("option",{value:"10",children:"10"}),(0,d.jsx)("option",{value:"25",children:"25"}),(0,d.jsx)("option",{value:"50",children:"50"})]}),(0,d.jsx)("span",{children:" entries"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",value:j,onChange:e=>{g(e.target.value.toLowerCase()),C(1)},className:"search-input"}),(0,d.jsx)("label",{htmlFor:"sort",children:"Sort by:"}),(0,d.jsxs)("select",{id:"sort",value:D,onChange:e=>O(e.target.value),children:[(0,d.jsx)("option",{value:"name",children:"Name"}),(0,d.jsx)("option",{value:"age",children:"Age"})]})]}),0===B.length?(0,d.jsx)("p",{children:"No animals found in the shelter."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("table",{className:"animal-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Image"}),(0,d.jsx)("th",{children:"Name"}),(0,d.jsx)("th",{children:"Type"}),(0,d.jsx)("th",{children:"Age"}),(0,d.jsx)("th",{children:"Breed"}),(0,d.jsx)("th",{children:"Gender"}),(0,d.jsx)("th",{children:"Location"}),(0,d.jsx)("th",{children:"Personality"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:$.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.imgurl?(0,d.jsx)("img",{src:e.imgurl,alt:e.name,className:"animal-image"}):(0,d.jsx)("div",{className:"paw-icon-container",children:(0,d.jsx)(i.g,{icon:r.GY1,className:"default-paw-icon"})})}),(0,d.jsx)("td",{children:e.name}),(0,d.jsx)("td",{children:e.type}),(0,d.jsx)("td",{children:e.age}),(0,d.jsx)("td",{children:e.breed}),(0,d.jsx)("td",{children:e.gender}),(0,d.jsx)("td",{children:e.location}),(0,d.jsx)("td",{children:e.personality}),(0,d.jsx)("td",{children:e.status}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{onClick:()=>(e=>{F(e),k(!0)})(e),children:(0,d.jsx)(i.g,{icon:r.MT7})}),(0,d.jsx)("button",{onClick:()=>(e=>{E(e),q(!0)})(e),className:"delete-button",children:(0,d.jsx)(i.g,{icon:r.yLS})}),(0,d.jsx)("button",{onClick:()=>{return a=e.id,void _(`/animals/${a}/details`);var a},children:"View Details"})]})]},e.id)))})]}),(0,d.jsxs)("div",{className:"pagination",children:[(0,d.jsx)("button",{onClick:()=>{y>1&&C(y-1)},disabled:1===y,children:(0,d.jsx)(i.g,{icon:r.Wzs})}),(0,d.jsxs)("span",{children:[y," of ",P]}),(0,d.jsx)("button",{onClick:()=>{y<P&&C(y+1)},disabled:y===P,children:(0,d.jsx)(i.g,{icon:r.XkK})})]})]})]})}},7256:(e,a,n)=>{n.d(a,{A:()=>s});n(2483);var t=n(6723);const s=e=>{let{isOpen:a,message:n,onConfirm:s,onCancel:l,title:i="Confirmation",confirmText:r="Yes",cancelText:o="No"}=e;return a?(0,t.jsx)("div",{className:"confirmation-modal",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("h2",{children:i}),(0,t.jsx)("p",{children:n}),(0,t.jsxs)("div",{className:"modal-buttons",children:[(0,t.jsx)("button",{onClick:s,className:"confirm-button",children:r}),(0,t.jsx)("button",{onClick:l,className:"cancel-button",children:o})]})]})}):null}},2718:(e,a,n)=>{n.d(a,{A:()=>c});var t=n(2483),s=n(3376),l=n(9891),i=n(8938),r=n(7256),o=n(7321),d=n(6723);const c=()=>{const{logout:e}=(0,o.A)(),[a,n]=(0,t.useState)(!1),c=(0,s.Zp)();return(0,d.jsxs)("div",{className:"sidebar",children:[(0,d.jsx)("div",{className:"sidebar-header",children:(0,d.jsx)("h2",{children:"Admin"})}),(0,d.jsxs)("ul",{className:"sidebar-list",children:[(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/dashboard",className:"sidebar-link",children:[(0,d.jsx)(i.$BV,{className:"sidebar-icon"})," Dashboard"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/reports",className:"sidebar-link",children:[(0,d.jsx)(i.t69,{className:"sidebar-icon"})," Reports"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/adopt-animal",className:"sidebar-link",children:[(0,d.jsx)(i.Mbv,{className:"sidebar-icon"})," Adoptions"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/animals",className:"sidebar-link",children:[(0,d.jsx)(i.O21,{className:"sidebar-icon"})," Animals"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/events",className:"sidebar-link",children:[(0,d.jsx)(i.bfZ,{className:"sidebar-icon"})," Events"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/rescuers",className:"sidebar-link",children:[(0,d.jsx)(i.YXz,{className:"sidebar-icon"})," Rescuers"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(l.N_,{to:"/maps",className:"sidebar-link",children:[(0,d.jsx)(i.A4L,{className:"sidebar-icon"})," Map"]})})]}),(0,d.jsx)("div",{className:"sidebar-footer",children:(0,d.jsxs)("button",{onClick:()=>{n(!0)},className:"sidebar-link logout-button",children:[(0,d.jsx)(i.axc,{className:"sidebar-icon"})," Logout"]})}),(0,d.jsx)(r.A,{isOpen:a,message:"Are you sure you want to log out?",onConfirm:()=>{e(),c("/"),alert("Successfully logged out!")},onCancel:()=>{n(!1)}})]})}}}]);
//# sourceMappingURL=376.9cf6518b.chunk.js.map